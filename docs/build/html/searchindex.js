Search.setIndex({"alltitles": {"API": [[0, null]], "Adding new demo": [[54, "adding-new-demo"]], "Development": [[54, "development"]], "Discover-demo API documentation": [[53, null]], "Production deployment": [[54, "production-deployment"]], "Usage": [[54, null]], "app": [[1, null]], "app.config": [[2, null]], "app.config.base": [[3, null]], "app.config.dev": [[4, null]], "app.config.prod": [[5, null]], "app.dticlustering": [[6, null]], "app.dticlustering.const": [[7, null]], "app.dticlustering.routes": [[8, null]], "app.dticlustering.tasks": [[9, null]], "app.dticlustering.tests": [[10, null]], "app.dticlustering.tests.training": [[11, null]], "app.dticlustering.training": [[12, null]], "app.main": [[13, null]], "app.regions": [[14, null]], "app.regions.const": [[15, null]], "app.regions.lib": [[16, null]], "app.regions.lib.regions": [[17, null]], "app.regions.routes": [[18, null]], "app.regions.tasks": [[19, null]], "app.shared": [[20, null]], "app.shared.const": [[21, null]], "app.shared.dataset": [[22, null]], "app.shared.dataset.dataset": [[23, null]], "app.shared.dataset.document": [[24, null]], "app.shared.routes": [[25, null]], "app.shared.tasks": [[26, null]], "app.shared.utils": [[27, null]], "app.shared.utils.bbox": [[28, null]], "app.shared.utils.download": [[29, null]], "app.shared.utils.fileutils": [[30, null]], "app.shared.utils.iiif": [[31, null]], "app.shared.utils.img": [[32, null]], "app.shared.utils.logging": [[33, null]], "app.shared.utils.modular": [[34, null]], "app.similarity": [[35, null]], "app.similarity.const": [[36, null]], "app.similarity.routes": [[37, null]], "app.similarity.tasks": [[38, null]], "app.similarity.tests": [[39, null]], "app.similarity.tests.test_similarity": [[40, null]], "app.similarity.tests.test_utils": [[41, null]], "app.vectorization": [[42, null]], "app.vectorization.const": [[43, null]], "app.vectorization.routes": [[44, null]], "app.vectorization.tasks": [[45, null]], "app.vectorization.vectorization": [[46, null]], "app.watermarks": [[47, null]], "app.watermarks.const": [[48, null]], "app.watermarks.routes": [[49, null]], "app.watermarks.sources": [[50, null]], "app.watermarks.tasks": [[51, null]], "app.watermarks.utils": [[52, null]]}, "docnames": ["api", "generated/app", "generated/app.config", "generated/app.config.base", "generated/app.config.dev", "generated/app.config.prod", "generated/app.dticlustering", "generated/app.dticlustering.const", "generated/app.dticlustering.routes", "generated/app.dticlustering.tasks", "generated/app.dticlustering.tests", "generated/app.dticlustering.tests.training", "generated/app.dticlustering.training", "generated/app.main", "generated/app.regions", "generated/app.regions.const", "generated/app.regions.lib", "generated/app.regions.lib.regions", "generated/app.regions.routes", "generated/app.regions.tasks", "generated/app.shared", "generated/app.shared.const", "generated/app.shared.dataset", "generated/app.shared.dataset.dataset", "generated/app.shared.dataset.document", "generated/app.shared.routes", "generated/app.shared.tasks", "generated/app.shared.utils", "generated/app.shared.utils.bbox", "generated/app.shared.utils.download", "generated/app.shared.utils.fileutils", "generated/app.shared.utils.iiif", "generated/app.shared.utils.img", "generated/app.shared.utils.logging", "generated/app.shared.utils.modular", "generated/app.similarity", "generated/app.similarity.const", "generated/app.similarity.routes", "generated/app.similarity.tasks", "generated/app.similarity.tests", "generated/app.similarity.tests.test_similarity", "generated/app.similarity.tests.test_utils", "generated/app.vectorization", "generated/app.vectorization.const", "generated/app.vectorization.routes", "generated/app.vectorization.tasks", "generated/app.vectorization.vectorization", "generated/app.watermarks", "generated/app.watermarks.const", "generated/app.watermarks.routes", "generated/app.watermarks.sources", "generated/app.watermarks.tasks", "generated/app.watermarks.utils", "index", "usage"], "envversion": {"sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["api.rst", "generated/app.rst", "generated/app.config.rst", "generated/app.config.base.rst", "generated/app.config.dev.rst", "generated/app.config.prod.rst", "generated/app.dticlustering.rst", "generated/app.dticlustering.const.rst", "generated/app.dticlustering.routes.rst", "generated/app.dticlustering.tasks.rst", "generated/app.dticlustering.tests.rst", "generated/app.dticlustering.tests.training.rst", "generated/app.dticlustering.training.rst", "generated/app.main.rst", "generated/app.regions.rst", "generated/app.regions.const.rst", "generated/app.regions.lib.rst", "generated/app.regions.lib.regions.rst", "generated/app.regions.routes.rst", "generated/app.regions.tasks.rst", "generated/app.shared.rst", "generated/app.shared.const.rst", "generated/app.shared.dataset.rst", "generated/app.shared.dataset.dataset.rst", "generated/app.shared.dataset.document.rst", "generated/app.shared.routes.rst", "generated/app.shared.tasks.rst", "generated/app.shared.utils.rst", "generated/app.shared.utils.bbox.rst", "generated/app.shared.utils.download.rst", "generated/app.shared.utils.fileutils.rst", "generated/app.shared.utils.iiif.rst", "generated/app.shared.utils.img.rst", "generated/app.shared.utils.logging.rst", "generated/app.shared.utils.modular.rst", "generated/app.similarity.rst", "generated/app.similarity.const.rst", "generated/app.similarity.routes.rst", "generated/app.similarity.tasks.rst", "generated/app.similarity.tests.rst", "generated/app.similarity.tests.test_similarity.rst", "generated/app.similarity.tests.test_utils.rst", "generated/app.vectorization.rst", "generated/app.vectorization.const.rst", "generated/app.vectorization.routes.rst", "generated/app.vectorization.tasks.rst", "generated/app.vectorization.vectorization.rst", "generated/app.watermarks.rst", "generated/app.watermarks.const.rst", "generated/app.watermarks.routes.rst", "generated/app.watermarks.sources.rst", "generated/app.watermarks.tasks.rst", "generated/app.watermarks.utils.rst", "index.rst", "usage.rst"], "indexentries": {"app.similarity": [[35, "module-app.similarity", false]], "app.similarity.routes": [[37, "module-app.similarity.routes", false]], "app.vectorization": [[42, "module-app.vectorization", false]], "app.vectorization.routes": [[44, "module-app.vectorization.routes", false]], "clear_doc() (in module app.similarity.routes)": [[37, "app.similarity.routes.clear_doc", false]], "module": [[35, "module-app.similarity", false], [37, "module-app.similarity.routes", false], [42, "module-app.vectorization", false], [44, "module-app.vectorization.routes", false]], "qsizes_similarity() (in module app.similarity.routes)": [[37, "app.similarity.routes.qsizes_similarity", false]], "qsizes_vectorization() (in module app.vectorization.routes)": [[44, "app.vectorization.routes.qsizes_vectorization", false]], "result_similarity() (in module app.similarity.routes)": [[37, "app.similarity.routes.result_similarity", false]], "start_similarity() (in module app.similarity.routes)": [[37, "app.similarity.routes.start_similarity", false]], "start_vectorization() (in module app.vectorization.routes)": [[44, "app.vectorization.routes.start_vectorization", false]]}, "objects": {"": [[1, 0, 0, "-", "app"]], "app": [[2, 0, 0, "-", "config"], [6, 0, 0, "-", "dticlustering"], [13, 0, 0, "-", "main"], [14, 0, 0, "-", "regions"], [20, 0, 0, "-", "shared"], [35, 0, 0, "-", "similarity"], [42, 0, 0, "-", "vectorization"], [47, 0, 0, "-", "watermarks"]], "app.config": [[3, 0, 0, "-", "base"], [4, 0, 0, "-", "dev"], [5, 0, 0, "-", "prod"]], "app.dticlustering": [[7, 0, 0, "-", "const"], [8, 0, 0, "-", "routes"], [9, 0, 0, "-", "tasks"], [10, 0, 0, "-", "tests"], [12, 0, 0, "-", "training"]], "app.dticlustering.routes": [[8, 1, 1, "", "start_clustering"]], "app.dticlustering.tests": [[11, 0, 0, "-", "training"]], "app.dticlustering.tests.training": [[11, 2, 1, "", "TestTraining"]], "app.dticlustering.tests.training.TestTraining": [[11, 3, 1, "", "setUp"], [11, 3, 1, "", "tearDown"]], "app.dticlustering.training": [[12, 2, 1, "", "LoggedKMeansTrainer"], [12, 2, 1, "", "LoggedSpritesTrainer"], [12, 2, 1, "", "LoggingTrainerMixin"], [12, 1, 1, "", "run_kmeans_training"], [12, 1, 1, "", "run_sprites_training"]], "app.dticlustering.training.LoggingTrainerMixin": [[12, 3, 1, "", "qualitative_eval"], [12, 3, 1, "", "save_metric_plots"]], "app.regions": [[15, 0, 0, "-", "const"], [16, 0, 0, "-", "lib"], [18, 0, 0, "-", "routes"], [19, 0, 0, "-", "tasks"]], "app.regions.lib": [[17, 0, 0, "-", "regions"]], "app.regions.lib.regions": [[17, 2, 1, "", "ExtractRegions"], [17, 1, 1, "", "detect"]], "app.regions.lib.regions.ExtractRegions": [[17, 3, 1, "", "check_doc"], [17, 4, 1, "", "dataset"], [17, 5, 1, "", "extraction_model"], [17, 5, 1, "", "model"], [17, 3, 1, "", "process_doc"], [17, 3, 1, "", "process_doc_imgs"], [17, 3, 1, "", "process_img"], [17, 3, 1, "", "run_task"], [17, 3, 1, "", "send_annotations"], [17, 5, 1, "", "weights"]], "app.regions.routes": [[18, 1, 1, "", "cancel_regions_extraction"], [18, 1, 1, "", "monitor_regions_extraction"], [18, 1, 1, "", "qsizes_regions_extraction"], [18, 1, 1, "", "start_regions_extraction"], [18, 1, 1, "", "status_regions_extraction"]], "app.shared": [[21, 0, 0, "-", "const"], [22, 0, 0, "-", "dataset"], [25, 0, 0, "-", "routes"], [26, 0, 0, "-", "tasks"], [27, 0, 0, "-", "utils"]], "app.shared.dataset": [[23, 0, 0, "-", "dataset"], [24, 0, 0, "-", "document"]], "app.shared.dataset.dataset": [[23, 2, 1, "", "Dataset"]], "app.shared.dataset.dataset.Dataset": [[23, 3, 1, "", "list_images"], [23, 3, 1, "", "load"], [23, 5, 1, "", "results_path"], [23, 3, 1, "", "save"]], "app.shared.dataset.document": [[24, 2, 1, "", "Document"]], "app.shared.dataset.document.Document": [[24, 3, 1, "", "download"], [24, 3, 1, "", "list_images"], [24, 5, 1, "", "mapping"]], "app.shared.routes": [[25, 1, 1, "", "cancel_task"], [25, 1, 1, "", "error_wrapper"], [25, 1, 1, "", "monitor"], [25, 1, 1, "", "qsizes"], [25, 1, 1, "", "receive_task"], [25, 1, 1, "", "result"], [25, 1, 1, "", "start_task"], [25, 1, 1, "", "status"]], "app.shared.tasks": [[26, 2, 1, "", "LoggedTask"]], "app.shared.utils": [[28, 0, 0, "-", "bbox"], [29, 0, 0, "-", "download"], [30, 0, 0, "-", "fileutils"], [27, 1, 1, "", "get_device"], [27, 1, 1, "", "hash_str"], [31, 0, 0, "-", "iiif"], [32, 0, 0, "-", "img"], [33, 0, 0, "-", "logging"], [34, 0, 0, "-", "modular"]], "app.shared.utils.bbox": [[28, 2, 1, "", "IIIFDocumentSegmentation"], [28, 2, 1, "", "IIIFPageSegmentationItem"], [28, 2, 1, "", "Segment"], [28, 1, 1, "", "base36_to_int"]], "app.shared.utils.bbox.Segment": [[28, 3, 1, "", "auto_cast"], [28, 3, 1, "", "from_bbox"], [28, 3, 1, "", "serialize"], [28, 3, 1, "", "unserialize"]], "app.shared.utils.download": [[29, 1, 1, "", "download_dataset"]], "app.shared.utils.fileutils": [[30, 1, 1, "", "check_dir"], [30, 1, 1, "", "clear_dir"], [30, 1, 1, "", "create_dirs_if_not"], [30, 1, 1, "", "create_file_if_not"], [30, 1, 1, "", "create_files_if_not"], [30, 1, 1, "", "delete_directory"], [30, 1, 1, "", "delete_path"], [30, 1, 1, "", "download_file"], [30, 1, 1, "", "empty_file"], [30, 1, 1, "", "file_age"], [30, 1, 1, "", "get_all_files"], [30, 1, 1, "", "get_file_ext"], [30, 1, 1, "", "is_too_old"], [30, 1, 1, "", "sanitize_str"], [30, 1, 1, "", "sanitize_url"], [30, 1, 1, "", "xaccel_send_from_directory"]], "app.shared.utils.iiif": [[31, 2, 1, "", "IIIFDownloader"], [31, 1, 1, "", "get_id"], [31, 1, 1, "", "get_iiif_resources"], [31, 1, 1, "", "get_img_rsrc"], [31, 1, 1, "", "get_json"], [31, 1, 1, "", "get_reduced_size"], [31, 1, 1, "", "is_iiif_manifest"]], "app.shared.utils.iiif.IIIFDownloader": [[31, 3, 1, "", "check_url"], [31, 3, 1, "", "download_manifest"], [31, 3, 1, "", "get_manifest_id"], [31, 3, 1, "", "run"], [31, 3, 1, "", "save_iiif_img"], [31, 3, 1, "", "save_img"]], "app.shared.utils.img": [[32, 1, 1, "", "download_image"], [32, 1, 1, "", "get_json"], [32, 1, 1, "", "save_img"]], "app.shared.utils.logging": [[33, 2, 1, "", "ConsoleColors"], [33, 2, 1, "", "JobLogger"], [33, 2, 1, "", "LoggedResults"], [33, 2, 1, "", "LoggerHelper"], [33, 2, 1, "", "LoggingTaskMixin"], [33, 2, 1, "", "TqdmProgress"], [33, 6, 1, "", "base_logger"], [33, 1, 1, "", "console"], [33, 1, 1, "", "notifying"]], "app.shared.utils.logging.JobLogger": [[33, 3, 1, "", "clearLogger"], [33, 3, 1, "", "error"], [33, 3, 1, "", "getLogger"], [33, 3, 1, "", "get_state"], [33, 3, 1, "", "info"], [33, 3, 1, "", "iterate"], [33, 3, 1, "", "progress"], [33, 3, 1, "", "register_backend"], [33, 3, 1, "", "terminate"], [33, 3, 1, "", "warning"]], "app.shared.utils.logging.LoggedResults": [[33, 3, 1, "", "before_process_message"]], "app.shared.utils.logging.LoggerHelper": [[33, 3, 1, "", "error"], [33, 3, 1, "", "info"], [33, 3, 1, "", "iterate"], [33, 3, 1, "", "progress"], [33, 3, 1, "", "warning"]], "app.shared.utils.logging.TqdmProgress": [[33, 3, 1, "", "close"], [33, 3, 1, "", "update"]], "app.shared.utils.modular": [[34, 1, 1, "", "auto_import_apps"]], "app.similarity": [[36, 0, 0, "-", "const"], [37, 0, 0, "-", "routes"], [38, 0, 0, "-", "tasks"], [39, 0, 0, "-", "tests"]], "app.similarity.routes": [[37, 1, 1, "", "clear_doc"], [37, 1, 1, "", "qsizes_similarity"], [37, 1, 1, "", "result_similarity"], [37, 1, 1, "", "start_similarity"]], "app.similarity.tests": [[40, 0, 0, "-", "test_similarity"], [41, 0, 0, "-", "test_utils"]], "app.similarity.tests.test_similarity": [[40, 2, 1, "", "TestLoggedComputeSimilarity"]], "app.similarity.tests.test_similarity.TestLoggedComputeSimilarity": [[40, 3, 1, "", "setUp"]], "app.vectorization": [[43, 0, 0, "-", "const"], [44, 0, 0, "-", "routes"], [45, 0, 0, "-", "tasks"], [46, 0, 0, "-", "vectorization"]], "app.vectorization.routes": [[44, 1, 1, "", "qsizes_vectorization"], [44, 1, 1, "", "start_vectorization"]], "app.vectorization.vectorization": [[46, 2, 1, "", "LoggedComputeVectorization"]], "app.vectorization.vectorization.LoggedComputeVectorization": [[46, 3, 1, "", "send_zip"]], "app.watermarks": [[48, 0, 0, "-", "const"], [49, 0, 0, "-", "routes"], [50, 0, 0, "-", "sources"], [51, 0, 0, "-", "tasks"], [52, 0, 0, "-", "utils"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "property", "Python property"], "6": ["py", "data", "Python data"]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method", "4": "py:attribute", "5": "py:property", "6": "py:data"}, "terms": {"": [24, 28, 33], "0": [17, 28, 31, 33], "0036": 44, "1": [17, 28, 33, 54], "10": [31, 32], "1000": 17, "1500": 31, "2": [17, 28, 31, 33], "20": [], "244": 32, "25": [17, 31], "256": 27, "3": [17, 33], "30": 30, "352": [], "36": 28, "3f": 33, "4": 33, "45": 17, "5": 33, "6": 33, "640": 17, "7": 33, "A": [9, 12, 13, 23, 24, 25, 28, 31, 33, 44], "And": [1, 54], "For": 30, "If": [24, 30, 31, 32, 33, 54], "It": [2, 9, 24], "Or": [], "The": [8, 9, 12, 17, 18, 23, 24, 25, 30, 31, 32, 33], "_": 33, "__": 33, "__file__": 30, "__init__": 54, "accel": [25, 30], "accept": 8, "access": 54, "actor": [9, 25], "ad": 53, "adapt": [12, 31], "add": [33, 54], "addit": [], "additional_param": [], "af7b247bae7b4b3e8b7b4b3": 18, "after": 11, "after_process_messag": 33, "after_skip_messag": 33, "ag": 30, "agnost": 17, "agnostic_nm": 17, "algorithm": [6, 27], "all": [17, 23, 27, 30, 31, 34, 37], "alreadi": 32, "an": [9, 12, 17, 25, 28, 31, 32, 33], "ani": [26, 33], "anno_fil": 17, "annot": [17, 24], "annotation_fil": 17, "api": [1, 2, 6, 12, 14, 17, 18, 20, 25, 31, 32, 54], "app": [53, 54], "applic": 33, "appropri": 33, "apt": 54, "ar": [12, 17, 24, 25, 31, 32], "arg": [12, 17, 26, 33, 46], "arrai": 28, "attribut": [], "augment": 17, "auto": [18, 34], "auto_cast": [28, 53], "auto_import_app": [34, 53], "auto_load_model": [], "avail": [18, 27], "back": 33, "backend": 33, "background": 12, "background_opt": 12, "bar": 33, "bar_format": 33, "base": [2, 9, 26, 28, 30, 33, 53], "base36": 28, "base36_to_int": [28, 53], "base_logg": [33, 53], "bbox": 53, "befor": [11, 33, 40], "before_process_messag": [33, 53], "behavior": 24, "better": 32, "between": [31, 33], "bin": 54, "black": 33, "block": [], "blue": 33, "blueprint": 34, "bold": 33, "bool": [17, 23, 30, 31, 33], "boolean": 31, "bound": [17, 28], "box": [17, 28], "box_to_xyxi": [], "broker": [13, 18, 25, 33, 37, 44], "calcul": 30, "call": [8, 33], "callabl": [26, 33], "callback": [18, 33, 44], "can": [24, 33, 54], "cancel": [8, 18, 25], "cancel_clust": [], "cancel_regions_extract": [18, 53], "cancel_similar": [], "cancel_task": [25, 53], "cancel_vector": [], "canva": [], "canvas_img": [], "cast": 28, "catch": 25, "chang": 54, "check": [17, 30, 31], "check_dir": [30, 53], "check_doc": [17, 53], "check_url": [31, 53], "checkpoint0045": [], "class": [1, 11, 12, 17, 23, 24, 26, 27, 28, 31, 33, 40, 46], "classmethod": [28, 33], "cleanup": 33, "clear": [8, 18, 30, 33, 37], "clear_clust": [], "clear_dir": [30, 53], "clear_doc": [37, 53], "clear_imag": [], "clear_old_similar": [], "clear_old_task": [], "clear_run": [], "clear_task": [], "clearlogg": [33, 53], "client_id": [37, 44], "close": [33, 53], "cluster": [6, 8, 9, 12], "clustering_id": 12, "coco128": 17, "code": [27, 33, 53, 54], "collaps": 33, "color": 33, "com": [18, 37, 44], "common": 20, "compar": 37, "comparison": 37, "comput": 37, "computevector": [], "condit": [], "conf": 54, "conf_thr": 17, "confid": 17, "config": [1, 21, 53, 54], "config_cfg": [], "configur": [1, 2, 54], "consid": 33, "consol": [33, 53], "consolecolor": [33, 53], "const": 53, "constant": [7, 15, 21], "contain": [1, 2, 8, 9, 12, 18, 24, 25, 27, 37, 53, 54], "content": [30, 31, 54], "convert": [28, 32], "coordin": [37, 44], "copi": 54, "correspond": [37, 54], "could": 32, "counter": 33, "cpu": [17, 27], "creat": [28, 30, 33, 54], "create_dir": [], "create_dirs_if_not": [30, 53], "create_file_if_not": [30, 53], "create_files_if_not": [30, 53], "crop": [17, 24], "cuda": 17, "current": 33, "current_buff": 33, "cyan": 33, "dai": 30, "data": [17, 22, 28], "dataset": [8, 9, 12, 17, 18, 29, 32, 53], "dataset_dir_nam": 29, "dataset_id": [8, 9, 12, 18], "dataset_ref": 29, "dataset_src": 29, "dataset_url": [8, 9], "datasets_dir_path": 29, "datasets_path": 23, "date": 18, "debug": 54, "deconstruct": 11, "decor": [25, 33], "default": [12, 23, 24, 30, 31, 32, 33, 37, 44], "defin": [], "definit": 24, "delet": 30, "delete_and_relaunch": [], "delete_directori": [30, 53], "delete_path": [30, 53], "demo": [31, 32], "demo_api": 33, "deploy": 53, "deprec": [29, 32], "deriv": 21, "descript": 33, "detail": [], "detect": [17, 53], "detect_watermark": [], "dev": [2, 53, 54], "develop": [2, 53], "devic": [17, 27], "dic": 31, "dict": [9, 12, 24, 25, 26, 31, 32, 33], "dictionari": [9, 24, 25], "differ": 1, "digit": 33, "dimens": 32, "dir": 17, "directori": [8, 12, 18, 25, 30, 32], "disk": [23, 24, 30, 31], "displai": 33, "dnn": 17, "do": [17, 30], "doc": 17, "doc_dir": 30, "doc_id": [37, 44, 46], "doc_pair": 37, "docker": 54, "doctorat": [31, 32], "document": [17, 18, 23, 28, 29, 32, 37], "documents_path": 24, "doe": [30, 33], "domain": [37, 44], "done": [18, 33], "dot": [25, 30], "download": [9, 24, 30, 31, 32, 37, 44, 53], "download_dataset": [29, 53], "download_fil": [30, 53], "download_imag": [32, 53], "download_manifest": [31, 53], "dramatiq": [9, 13, 33, 54], "dti": [6, 8, 9, 12, 31, 32, 54], "dticlust": [53, 54], "e": [17, 30, 33, 54], "each": [18, 25, 31, 37, 44], "eida": [18, 37], "els": 27, "emit": 33, "empty_fil": [30, 53], "encod": 28, "end": 33, "env": 54, "environ": 54, "error": [25, 26, 31, 33, 53], "error_msg": 31, "error_wrapp": [25, 53], "especi": 54, "evarin": [31, 32], "even": 12, "event": [], "exactli": 33, "exampl": 18, "exc_str": [], "except": [25, 33], "exclud": 30, "exclude_dir": 30, "execut": [], "exercis": [11, 40], "exist": [17, 30, 33], "exist_ok": 17, "exp": 17, "expect": [12, 18, 44], "experi": [18, 25], "experiment_id": [8, 9, 17, 18, 25, 26], "extend": [], "extend_map": [], "extens": [17, 25, 30, 32], "extract": [16, 17, 18, 19, 25], "extract_featur": [], "extraction_model": [17, 53], "extractor": 17, "extractregion": [17, 53], "fail": 31, "fals": [17, 23, 30, 31, 32, 33], "featur": [17, 37], "feature_transform": [], "fetch": 8, "file": [1, 2, 8, 17, 24, 25, 30, 31, 32, 33, 37, 54], "file_ag": [30, 53], "file_nb": [], "file_to_check": 30, "filenam": [24, 30, 32], "filepath": 30, "files": 33, "fileutil": 53, "fill": 12, "filter": [17, 30], "final": 33, "find": 54, "finish": 8, "first": 30, "fit": [28, 44], "fixtur": [11, 40], "flask": [13, 25, 34, 54], "flask_app": 34, "flask_config": [], "float": [17, 28, 31, 33], "focus": 22, "folder": [30, 53, 54], "follow": [8, 23, 24], "force_delet": 30, "format": [8, 18, 28, 32], "fp16": 17, "fr": [18, 37], "frame": 17, "from": [8, 17, 18, 21, 23, 24, 25, 28, 29, 30, 31, 32, 37], "from_bbox": [28, 53], "front": 29, "frontend": [17, 33, 44], "full": [28, 31], "func": [25, 33], "function": [1, 9, 12, 25, 26, 27, 29, 30, 31, 32, 33], "g": [30, 33], "gener": 54, "get": [8, 18, 25, 30, 31, 32, 33, 54], "get_all_fil": [30, 53], "get_canvas_img": [], "get_client_id": [], "get_closest_match": [], "get_color": [], "get_devic": [27, 53], "get_file_ext": [30, 53], "get_id": [31, 53], "get_iiif_resourc": [31, 53], "get_img_id": [], "get_img_path": [], "get_img_rsrc": [31, 53], "get_imgs_in_dir": [], "get_item_img": [], "get_json": [31, 32, 53], "get_manifest_id": [31, 53], "get_model": [], "get_reduced_s": [31, 53], "get_stat": [33, 53], "get_tim": [], "getlogg": [33, 53], "git": 54, "github": [], "give": 33, "given": [28, 30, 31, 37], "glob": 17, "gpu": 27, "green": 33, "group": 33, "h": 28, "ha": 2, "half": 17, "handl": [9, 12, 25, 28, 31], "has_cont": [], "hash": 27, "hash_str": [27, 53], "have": [], "header": 25, "height": [17, 28, 31], "helper": 33, "hide": 17, "hide_conf": 17, "hide_label": 17, "highli": 33, "home": [31, 32], "hook": [11, 12, 40], "http": [18, 30, 37, 44], "i": [1, 8, 9, 17, 18, 22, 23, 24, 30, 31, 32, 33, 34, 37, 44, 54], "id": [8, 9, 12, 18, 24, 25, 31], "identifi": [8, 23, 24, 33], "ignor": 31, "iiif": [18, 24, 28, 37, 44, 53], "iiif_img": 31, "iiifdocumentsegment": [28, 53], "iiifdownload": [31, 53], "iiifpagesegmentationitem": [28, 53], "imag": [12, 14, 17, 18, 23, 24, 31, 32, 37, 44], "image_nam": [37, 44], "images_src": 24, "img": [31, 53], "img_dir": 31, "img_ext": [], "img_filenam": [31, 32], "img_format": 32, "img_nam": [37, 44], "img_nb": 17, "img_numb": 17, "img_path": [17, 32], "img_rscr": 31, "img_url": 32, "imgsz": 17, "import": 34, "improv": 29, "includ": 32, "increment": [17, 33], "index": 31, "indic": [8, 18, 31], "infer": 17, "info": [33, 53], "inform": [8, 18, 44], "init": 54, "initi": [13, 54], "initialis": 33, "input": 28, "insid": 12, "instal": [34, 54], "installed_app": [34, 54], "instanc": [], "instead": [32, 33], "int": [17, 28, 30, 31, 32, 33], "int_to_base36": [], "interest": 14, "interfac": 32, "intern": [22, 33], "interv": 33, "iou": 17, "iou_thr": 17, "is_iiif_manifest": [31, 53], "is_too_old": [30, 53], "item": [28, 33], "item_img": [], "iter": [23, 24, 33, 53], "its": [17, 24, 30, 33, 54], "itself": 37, "job": 33, "job_id": 33, "joblogg": [33, 53], "jpeg": 32, "jpg": [24, 37, 44], "json": [8, 9, 18, 23, 24, 25, 31, 32], "json_cont": 31, "kei": [8, 12, 24, 33], "kmean": 12, "kmeanstrain": 12, "kwarg": [12, 17, 26, 33, 46], "label": [17, 28], "larger": [31, 32], "last": [30, 33], "least": 54, "leav": 33, "left": 28, "len": 33, "lib": [12, 31, 32, 53], "librari": 16, "lightweight": 12, "line": 33, "line_thick": 17, "list": [17, 18, 23, 24, 25, 30, 31, 34, 37, 44, 54], "list_imag": [23, 24, 53], "load": [23, 31, 53], "load_map": [], "load_model": [], "local": 24, "log": [12, 25, 26, 40, 53], "loggedcomputevector": [46, 53], "loggedkmeanstrain": [12, 53], "loggedresult": [33, 53], "loggedspritestrain": [12, 53], "loggedtask": [26, 53], "logger": [9, 12, 26, 33, 40, 46], "loggerhelp": [12, 26, 33, 40, 46, 53], "loggingtaskmixin": [33, 53], "loggingtrainermixin": [12, 53], "logic": [], "m": 54, "magenta": 33, "main": [12, 25, 53, 54], "make": 30, "manag": 22, "mani": [30, 32], "manifest": [18, 24, 31], "manifest_id": 31, "manifest_url": [28, 31], "manipul": 30, "manual": 33, "map": [24, 53], "match": [30, 54], "max_dai": 30, "max_det": 17, "max_dim": [31, 32], "maxim": 31, "maximum": [17, 32], "md": 54, "messag": [25, 33], "method": [11, 12, 40], "methodnam": [11, 40], "min_sim": [], "min_siz": 31, "minimum": 33, "mixin": [12, 33], "mode": 32, "model": [9, 17, 18, 44, 53], "model_checkpoint_path": [], "model_config_path": [], "modif": [18, 30], "modul": [1, 2, 6, 10, 14, 15, 16, 20, 22, 27, 31, 32, 33, 34, 35, 39, 42, 47], "modular": 53, "monitor": [8, 18, 25, 33, 53], "monitor_clust": [], "monitor_regions_extract": [18, 53], "monitor_similar": [], "monitor_vector": [], "msg": 33, "n": 33, "n_prototyp": 12, "name": [17, 30, 31, 37, 44, 54], "necessari": [33, 54], "need": [26, 54], "new": [8, 25, 33, 53], "nginx": 54, "nm": 17, "none": [11, 17, 23, 24, 26, 28, 29, 30, 31, 32, 33], "nosav": 17, "notifi": [9, 18, 26, 33, 53], "notify_url": [8, 18, 25, 26, 46], "now": [33, 54], "number": [8, 12, 18, 25, 30, 33, 37, 44], "o": [31, 32], "object": [8, 9, 12, 18, 25, 30, 32], "obspm": [18, 37], "ok": 17, "older": 30, "onc": 54, "one": 33, "onli": [30, 33], "only_img_url": [], "onnx": 17, "opencv": 17, "option": [8, 9, 12, 30, 31, 33], "origin": 12, "other": [1, 27, 37, 44], "otherwis": [30, 31], "out": 33, "output": [12, 17, 33], "over": [23, 24], "overwrit": 12, "p": 54, "packag": [31, 32, 34, 54], "page": 28, "page_uid": 28, "pair": 37, "paramet": [8, 9, 12, 17, 18, 23, 24, 25, 30, 31, 32, 33, 44], "parent": 30, "parent_dir": 30, "part": [1, 24], "path": [12, 17, 21, 23, 24, 30, 31, 54], "path_to_clear": 30, "pathlik": [30, 31, 32], "pdf": 30, "per": [17, 33], "pil": [31, 32], "pip": 54, "pixel": 17, "placehold": 32, "plot": 12, "png": [], "posixpath": 17, "possibli": 33, "post": [8, 18], "pprint": [], "precis": [17, 28], "predict": 17, "prefix": 25, "prepar": 9, "present": [], "pretti": 33, "print": 33, "process": [9, 17, 18, 33], "process_doc": [17, 53], "process_doc_img": [17, 53], "process_img": [17, 53], "prod": [2, 53], "product": [2, 53], "progress": [12, 26, 33, 53], "progressbar": 33, "project": [17, 54], "properti": [17, 23, 24], "prototyp": 12, "provid": [9, 23], "pt": [17, 18], "pth": [], "put": 18, "py": [31, 32, 54], "python": 54, "python3": [31, 32, 54], "qsize": [8, 18, 25, 53], "qsizes_clust": [], "qsizes_regions_extract": [18, 53], "qsizes_similar": [37, 53], "qsizes_vector": [44, 53], "qualitative_ev": [12, 53], "queri": [], "queue": [8, 18, 25, 37, 44], "r": 54, "rais": [28, 31, 33], "rate": 17, "rate_limit": 33, "re": 31, "re_download": 31, "reach": 33, "read": 33, "readm": 54, "receiv": 44, "receive_task": [25, 53], "recip": 20, "recommend": 33, "red": 33, "redi": 54, "redirect": [25, 30, 54], "redis_password": 54, "reduc": 31, "refer": 24, "regard": [25, 54], "region": 53, "regist": [33, 34], "register_backend": [33, 53], "rel": 28, "relat": [8, 37], "relaunch": [], "relev": 54, "remot": 54, "remov": 30, "repres": [23, 24], "req": 25, "request": [18, 25], "requir": [8, 54], "requirepass": 54, "research": 12, "resiz": 32, "resize_to": [], "resourc": 31, "respons": [8, 18, 25], "restructuredtext": [], "result": [8, 9, 12, 17, 23, 25, 33, 37, 46, 53], "result_clust": [], "result_similar": [37, 53], "result_ttl": 33, "result_url": 8, "resultbackend": 33, "results_dir": 25, "results_path": [23, 53], "retriev": [], "return": [9, 12, 18, 23, 25, 27, 30, 31, 32, 33], "rgb": 32, "right": 33, "rotat": [37, 44], "rout": [53, 54], "run": [8, 9, 12, 17, 25, 27, 31, 33, 53, 54], "run_kmeans_train": [12, 53], "run_sprites_train": [12, 53], "run_task": [17, 53], "runtest": [11, 40], "sanit": 30, "sanitize_str": [30, 53], "sanitize_url": [30, 53], "save": [12, 17, 23, 24, 30, 31, 32, 53], "save_conf": 17, "save_crop": 17, "save_iiif_img": [31, 53], "save_img": [31, 32, 53], "save_metric_plot": [12, 53], "save_txt": 17, "score": 37, "screen": 17, "script": 13, "search": 30, "see": 54, "segment": [14, 28, 53], "send": [17, 30, 33, 37, 46], "send_annot": [17, 53], "send_result": [], "send_upd": [], "send_zip": [46, 53], "sent": 44, "separ": 1, "sequenc": 12, "serial": [28, 53], "server": [37, 44, 54], "servic": 25, "set": [11, 30, 31, 40], "setup": [11, 40, 53, 54], "sever": 1, "sha": 27, "share": [1, 12, 40, 53], "should": [32, 33], "show": 17, "similar": [33, 53], "singl": 24, "site": [31, 32], "size": [8, 17, 18, 25, 28, 31, 37, 44], "skip": 33, "skipmessag": 33, "sleep": 31, "smart": 28, "sonatbaltaci": [], "sourc": [17, 24, 31, 53], "space": 30, "specif": [7, 8, 15], "specifi": [8, 33], "sprite": [12, 54], "spritestrain": 12, "start": [8, 18, 25, 44], "start_clust": [8, 53], "start_regions_extract": [18, 53], "start_similar": [37, 53], "start_task": [25, 53], "start_vector": [44, 53], "state": 33, "static": 33, "statu": [8, 18, 25, 53], "status_clust": [], "status_regions_extract": [18, 53], "status_similar": [], "status_vector": [], "store": [25, 33], "store_result": 33, "str": [9, 12, 17, 18, 23, 24, 25, 26, 27, 28, 30, 31, 32, 33, 34, 37], "stream": 33, "stride": 17, "string": [27, 28, 30], "structur": [23, 24], "sub_dir": 29, "subdirectori": 30, "submodul": [2, 54], "sudo": 54, "syntax": [], "sz": [], "t": [28, 33, 54], "target": 32, "target_dir": 32, "target_filenam": 32, "target_path": 31, "task": [8, 12, 17, 18, 25, 33, 34, 37, 44, 53, 54], "task_cancel": [], "task_fct": 25, "task_kwarg": 25, "task_result": [], "task_statu": [], "teardown": [11, 53], "templat": 54, "tensor": [], "termin": [33, 53], "test": 53, "test_similar": 53, "test_util": 53, "testloggedcomputesimilar": [40, 53], "testtrain": [11, 53], "than": [30, 31, 32], "thei": 30, "them": 25, "thi": [1, 8, 9, 12, 22, 23, 27, 29, 32, 33, 34, 53], "thick": 17, "three": 2, "threshold": 17, "through": 33, "time": [30, 31], "titl": 33, "tjoblogg": [12, 26, 33, 40, 46], "tlogger": [9, 12], "todo": [12, 29, 44], "tool": [12, 32], "top": 28, "topk": [], "total": [25, 33], "tqdm": 33, "tqdmprogress": [33, 53], "track": [12, 18, 33], "tracking_id": [8, 18, 25], "tracking_url": [18, 25, 26, 44], "train": [9, 53], "train_dti": 9, "trainer": 12, "transform": 12, "transformation_sequ": 12, "transposit": [], "trigger": 33, "triton": 17, "true": [30, 33], "try": 31, "tsegment": 28, "tupl": [17, 25, 28, 31], "txt": [17, 30, 54], "type": [12, 26, 28, 31, 33, 40, 46], "uid": [18, 23, 24], "uniqu": [8, 23, 24], "unit": [], "unit_scal": 33, "unseri": [28, 53], "up": [11, 40], "updat": [17, 33, 44, 53, 54], "url": [8, 9, 17, 18, 24, 30, 31, 32, 37, 44], "us": [1, 6, 8, 17, 18, 24, 27, 28, 29, 30, 31, 32, 33, 34], "usag": 53, "util": [12, 20, 26, 40, 53], "valid": [30, 31, 32], "valueerror": [28, 31], "variabl": [33, 54], "variou": [21, 28], "vecto": 44, "vector": 53, "venv": [31, 32, 54], "vi": 54, "vid_strid": 17, "video": 17, "view_img": 17, "virtual": 54, "visual": 17, "w": 28, "wa": [30, 31, 33], "wai": 33, "warn": [33, 53], "watermark": 53, "watermarksourc": [], "webcam": 17, "weight": [17, 53], "what": 44, "when": [8, 18, 31, 33], "where": [25, 31], "whether": [23, 31, 33], "which": [8, 17, 23, 24, 27], "white": 33, "whole": 20, "whose": 30, "why": [], "width": [17, 28, 31], "wit17_img17_anno17": 44, "wit1_man191_anno188": [], "wit2": [], "wit2_img2_anno2": [18, 37], "wit3": [], "wit3_man186_anno181": [18, 37], "wit87": [], "wit87_img87_anno87": [18, 37], "with_warn": 33, "without": [17, 25, 30], "won": 28, "worker": [53, 54], "wrapper": 28, "write": 17, "www": 30, "x": [25, 28, 30], "xaccel": 54, "xaccel_prefix": 25, "xaccel_send_from_directori": [30, 53], "y": 28, "yaml": 17, "yellow": 33, "yolov5": 17, "you": 54, "your": 54, "zip": [8, 9, 24, 25, 46]}, "titles": ["API", "app", "app.config", "app.config.base", "app.config.dev", "app.config.prod", "app.dticlustering", "app.dticlustering.const", "app.dticlustering.routes", "app.dticlustering.tasks", "app.dticlustering.tests", "app.dticlustering.tests.training", "app.dticlustering.training", "app.main", "app.regions", "app.regions.const", "app.regions.lib", "app.regions.lib.regions", "app.regions.routes", "app.regions.tasks", "app.shared", "app.shared.const", "app.shared.dataset", "app.shared.dataset.dataset", "app.shared.dataset.document", "app.shared.routes", "app.shared.tasks", "app.shared.utils", "app.shared.utils.bbox", "app.shared.utils.download", "app.shared.utils.fileutils", "app.shared.utils.iiif", "app.shared.utils.img", "app.shared.utils.logging", "app.shared.utils.modular", "app.similarity", "app.similarity.const", "app.similarity.routes", "app.similarity.tasks", "app.similarity.tests", "app.similarity.tests.test_similarity", "app.similarity.tests.test_utils", "app.vectorization", "app.vectorization.const", "app.vectorization.routes", "app.vectorization.tasks", "app.vectorization.vectorization", "app.watermarks", "app.watermarks.const", "app.watermarks.routes", "app.watermarks.sources", "app.watermarks.tasks", "app.watermarks.utils", "Discover-demo API documentation", "Usage"], "titleterms": {"ad": 54, "api": [0, 53], "app": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52], "auto_import_app": [], "auto_load_model": [], "base": 3, "base36_to_int": [], "bbox": 28, "box_to_xyxi": [], "cancel_clust": [], "cancel_regions_extract": [], "cancel_similar": [], "cancel_task": [], "cancel_vector": [], "check_dir": [], "clear_clust": [], "clear_dir": [], "clear_doc": [], "clear_imag": [], "clear_old_similar": [], "clear_old_task": [], "clear_run": [], "clear_task": [], "computevector": [], "config": [2, 3, 4, 5], "consol": [], "consolecolor": [], "const": [7, 15, 21, 36, 43, 48], "create_dir": [], "create_dirs_if_not": [], "create_file_if_not": [], "create_files_if_not": [], "dataset": [22, 23, 24], "delete_and_relaunch": [], "delete_directori": [], "delete_path": [], "demo": [53, 54], "deploy": 54, "detect_watermark": [], "dev": 4, "develop": 54, "discov": 53, "document": [24, 53], "download": 29, "download_dataset": [], "download_fil": [], "download_imag": [], "dticlust": [6, 7, 8, 9, 10, 11, 12], "empty_fil": [], "error_wrapp": [], "exc_str": [], "extract_featur": [], "feature_transform": [], "file_ag": [], "fileutil": 30, "flask_config": [], "get_all_fil": [], "get_canvas_img": [], "get_client_id": [], "get_closest_match": [], "get_color": [], "get_devic": [], "get_file_ext": [], "get_id": [], "get_iiif_resourc": [], "get_img_id": [], "get_img_path": [], "get_img_rsrc": [], "get_imgs_in_dir": [], "get_item_img": [], "get_json": [], "get_model": [], "get_reduced_s": [], "get_tim": [], "has_cont": [], "hash_str": [], "iiif": 31, "iiifdocumentsegment": [], "iiifdownload": [], "iiifpagesegmentationitem": [], "imag": [], "img": 32, "index": [], "int_to_base36": [], "is_iiif_manifest": [], "is_too_old": [], "joblogg": [], "lib": [16, 17], "load_model": [], "log": 33, "loggedcomputevector": [], "loggedkmeanstrain": [], "loggedresult": [], "loggedspritestrain": [], "loggedtask": [], "loggerhelp": [], "loggingtaskmixin": [], "loggingtrainermixin": [], "main": 13, "modular": 34, "monitor": [], "monitor_clust": [], "monitor_regions_extract": [], "monitor_similar": [], "monitor_vector": [], "new": 54, "notifi": [], "paramet": [], "pprint": [], "prod": 5, "product": 54, "qsize": [], "qsizes_clust": [], "qsizes_regions_extract": [], "qsizes_similar": [], "qsizes_vector": [], "receive_task": [], "region": [14, 15, 16, 17, 18, 19], "result": [], "result_clust": [], "result_similar": [], "return": [], "rout": [8, 18, 25, 37, 44, 49], "run_kmeans_train": [], "run_sprites_train": [], "sanitize_str": [], "sanitize_url": [], "save_img": [], "segment": [], "send_result": [], "send_upd": [], "share": [20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34], "similar": [35, 36, 37, 38, 39, 40, 41], "sourc": 50, "start_clust": [], "start_regions_extract": [], "start_similar": [], "start_task": [], "start_vector": [], "statu": [], "status_clust": [], "status_regions_extract": [], "status_similar": [], "status_vector": [], "task": [9, 19, 26, 38, 45, 51], "task_cancel": [], "task_result": [], "task_statu": [], "test": [10, 11, 39, 40, 41], "test_similar": 40, "test_util": 41, "testloggedcomputesimilar": [], "testtrain": [], "tqdmprogress": [], "train": [11, 12], "usag": 54, "util": [27, 28, 29, 30, 31, 32, 33, 34, 52], "vector": [42, 43, 44, 45, 46], "watermark": [47, 48, 49, 50, 51, 52], "watermarksourc": [], "xaccel_send_from_directori": []}})